# AI Cycling Coach - Project Context & Rules

## ğŸš€ Project Overview
**AI Cycling Coach**ëŠ” ì‚¬ì´í´ë¦¬ìŠ¤íŠ¸ë¥¼ ìœ„í•œ ë§ì¶¤í˜• ì›Œí¬ì•„ì›ƒ ìƒì„± ë° ê´€ë¦¬ í”Œë«í¼ì…ë‹ˆë‹¤. Intervals.icuì˜ ë°ì´í„°ì™€ ìµœì‹  LLM(Groq, Gemini)ì„ ê²°í•©í•˜ì—¬ ê°œì¸í™”ëœ í›ˆë ¨ ê³„íšì„ ì œê³µí•©ë‹ˆë‹¤.

## ğŸ›  Tech Stack
### Backend
- **Framework**: FastAPI (Python 3.11+)
- **Runtime**: Google Cloud Run (Region: `asia-northeast3`)
- **CI/CD**: GCP Cloud Build
- **Main Dependencies**: `openai`, `supabase`, `requests`, `uvicorn`

### Frontend
- **Framework**: React 19 + TypeScript + Vite 7
- **Styling**: Tailwind CSS 4 + Shadcn UI (Radix UI)
- **Charts**: Recharts (Workout analysis & progress)
- **Hosting**: Vercel

### Infrastructure & Services
- **Database/Auth**: Supabase (PostgreSQL)
- **AI Gateway**: Vercel AI Gateway (LLM Proxy & Fallback)
- **LLM Providers**: 
  - Primary: **Groq** (llama-3.3-70b-versatile)
  - Fallback: **Google Gemini** (2.0 Flash, 1.5 Flash)
- **External API**: **Intervals.icu** (Athlete fitness/wellness/calendar data)

## ğŸ“‚ Project Structure
- `/api/`: Backend logic
  - `/routers/`: API endpoints (admin, workout, fitness, etc.)
  - `/services/`: Business logic (model management, LLM orchestration)
  - `/schemas/`: Pydantic models
- `/src/`: Core engine logic
  - `/clients/`: External service clients (Supabase, Intervals, LLM)
  - `/services/`: Backend-agnostic services (Workout generation logic)
- `/frontend/`: React application code
  - `/src/pages/`: Main views (Dashboard, Admin, Settings)
  - `/src/components/`: Reusable UI components
- `/docs/`: Infrastructure and technical documentation

## ğŸ“œ Development Rules
1. **Aesthetics First**: UIëŠ” í•­ìƒ í”„ë¦¬ë¯¸ì—„í•˜ê³  ëª¨ë˜í•œ ê°ì„±ì„ ìœ ì§€í•´ì•¼ í•©ë‹ˆë‹¤ (Vibrant colors, smooth transitions, glassmorphism).
2. **Backend Performance**: Cloud Run ì‘ë‹µ ì†ë„ë¥¼ ìµœì í™”í•´ì•¼ í•˜ë©°, LLM í˜¸ì¶œì€ ë°˜ë“œì‹œ Vercel AI Gatewayë¥¼ ê±°ì³ì•¼ í•©ë‹ˆë‹¤.
3. **Fallback Strategy**: ëª¨ë“  AI ê¸°ëŠ¥ì€ Groq ì‹¤íŒ¨ ì‹œ Geminië¡œ ìë™ ì „í™˜ë˜ëŠ” êµ¬ì¡°ë¥¼ ìœ ì§€í•´ì•¼ í•©ë‹ˆë‹¤.
4. **Data Integrity**: Intervals.icuì™€ Supabase ê°„ì˜ ë°ì´í„° ë™ê¸°í™” ì‹œ ì •í•©ì„±ì„ ìµœìš°ì„ ìœ¼ë¡œ í•©ë‹ˆë‹¤.
5. **Clean Code**: Pythonì€ PEP8, TypeScriptëŠ” ESLint/Prettier ê·œì¹™ì„ ì¤€ìˆ˜í•©ë‹ˆë‹¤.

## ğŸ”— Key URLs
- **Backend API**: `https://cycling-coach-backend-25085100592.asia-northeast3.run.app`
- **API Docs**: `/docs` (Swagger)
- **GCP Project**: `gen-lang-client-0043735738`
